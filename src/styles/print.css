/* 极简优化的打印样式 - 专为快速预览和ChatGPT上传优化 */

/* 页面基础设置 */
@page {
    margin: 1.5cm;
    size: A4;
}

/* 打印优化规则 */
@media print {
    /* 完全隐藏所有装饰性和交互性元素 */
    nav, .navbar, .sidebar, .pdf-export-dropdown, .theme-toggle,
    .back-to-top, .search-box, .print-hide, header, footer,
    .header, .footer, .breadcrumb, .pagination, .toc-sidebar,
    .share-buttons, .reading-time, .mobile-menu-toggle,
    button, input, select, textarea, .interactive, .tooltip,
    .modal, .dropdown, .menu, .nav, .navigation {
        display: none !important;
    }
    
    /* 完全去除所有emoji、图标和装饰性元素 */
    .emoji, .icon, .card-icon, .decorative-image, .background-image,
    h1::before, h2::before, h3::before, h4::before, h5::before, h6::before,
    *::before, *::after {
        display: none !important;
        content: none !important;
    }
    
    /* 基础页面样式 - 最小化处理 */
    * {
        margin: 0 !important;
        padding: 0 !important;
        border: none !important;
        background: transparent !important;
        box-shadow: none !important;
        text-shadow: none !important;
        border-radius: 0 !important;
        outline: none !important;
        box-sizing: border-box !important;
    }
    
    html, body {
        background: white !important;
        color: black !important;
        font-family: "Arial", "Helvetica", sans-serif !important;
        font-size: 11pt !important;
        line-height: 1.3 !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    /* 主要内容区域 - 极简布局 */
    main, .main-content, .content, article, .article-content {
        display: block !important;
        width: 100% !important;
        max-width: none !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    /* 容器布局简化 */
    .container, .wrapper, .layout, .grid, .flex {
        display: block !important;
        width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    /* 标题样式 - 极简无装饰 */
    h1, h2, h3, h4, h5, h6 {
        color: black !important;
        font-weight: bold !important;
        text-align: left !important;
        page-break-after: avoid !important;
        margin: 0.3em 0 0.2em 0 !important;
        padding: 0 !important;
    }
    
    h1 { font-size: 16pt !important; }
    h2 { font-size: 14pt !important; }
    h3 { font-size: 12pt !important; }
    h4 { font-size: 11pt !important; }
    h5, h6 { font-size: 10pt !important; }
    
    /* 段落和文本 - 紧凑布局 */
    p {
        margin: 0.2em 0 !important;
        text-align: left !important;
        orphans: 2 !important;
        widows: 2 !important;
    }
    
    /* 列表 - 极简样式 */
    ul, ol {
        margin: 0.2em 0 !important;
        padding-left: 1.2em !important;
        list-style-position: outside !important;
    }
    
    li {
        margin: 0.1em 0 !important;
        padding: 0 !important;
    }
    
    /* 完全去除所有装饰性容器和边框 */
    .chapter-overview, .overview-item, .overview-card, .card, .card-green,
    .wisdom-section, .science-section, .practice-section, .key-points,
    .core-summary, .key-metrics, .section, .container, .wrapper {
        display: block !important;
        background: transparent !important;
        border: none !important;
        box-shadow: none !important;
        margin: 0.2em 0 !important;
        padding: 0 !important;
    }
    
    /* 将网格布局转换为简单的块级元素 */
    .overview-grid, .chapters-grid, .content-grid {
        display: block !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    /* 强调文本 */
    strong, b {
        font-weight: bold !important;
        color: black !important;
    }
    
    em, i {
        font-style: italic !important;
        color: black !important;
    }
    
    /* 链接样式 */
    a {
        color: black !important;
        text-decoration: none !important;
    }
    
    /* 引用块 - 极简样式 */
    blockquote {
        margin: 0.2em 0 !important;
        padding-left: 0.5em !important;
        border-left: 1px solid black !important;
        font-style: italic !important;
    }
    
    /* 代码块 - 极简样式 */
    pre, code {
        font-family: "Courier New", monospace !important;
        font-size: 9pt !important;
        background: #f5f5f5 !important;
        padding: 0.1em !important;
        margin: 0.1em 0 !important;
        border: 1px solid #ccc !important;
        white-space: pre-wrap !important;
        word-wrap: break-word !important;
    }
    
    /* 表格 - 极简样式 */
    table {
        border-collapse: collapse !important;
        width: 100% !important;
        margin: 0.3em 0 !important;
        font-size: 9pt !important;
    }
    
    th, td {
        border: 1px solid black !important;
        padding: 0.2em !important;
        text-align: left !important;
        vertical-align: top !important;
    }
    
    th {
        background: #f0f0f0 !important;
        font-weight: bold !important;
    }
    
    /* 图片处理 - 优化加载 */
    img {
        max-width: 100% !important;
        height: auto !important;
        display: block !important;
        margin: 0.2em 0 !important;
        page-break-inside: avoid !important;
    }
    
    /* 隐藏装饰性图片 */
    .decorative-image, .background-image, .logo, .avatar {
        display: none !important;
    }
    
    /* 分页优化 */
    .page-break {
        page-break-before: always !important;
    }
    
    .no-break {
        page-break-inside: avoid !important;
    }
    
    /* 数学公式 */
    .katex, .MathJax, .math {
        color: black !important;
        font-size: 10pt !important;
    }
    
    /* ========== 流程图打印优化 ========== */
    
    /* 基础流程图 - 保持相对位置 */
    .flowchart {
        display: flex !important;
        flex-direction: row !important;
        align-items: center !important;
        justify-content: center !important;
        flex-wrap: nowrap !important;
        gap: 8px !important;
        margin: 0.5em 0 !important;
        padding: 0.3em 0 !important;
        page-break-inside: avoid !important;
        overflow: visible !important;
    }
    
    .flowchart .step {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        min-width: 100px !important;
        flex-shrink: 0 !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .flowchart .top {
        background: #f0f0f0 !important;
        color: black !important;
        padding: 6px 12px !important;
        border: 1px solid #ccc !important;
        font-weight: bold !important;
        font-size: 10pt !important;
        text-align: center !important;
        white-space: nowrap !important;
        margin: 0 !important;
    }
    
    .flowchart .bottom {
        margin-top: 3px !important;
        background: white !important;
        color: black !important;
        padding: 4px 8px !important;
        border: 1px solid #ddd !important;
        font-size: 9pt !important;
        text-align: center !important;
        white-space: nowrap !important;
    }
    
    .flowchart .arrow-right {
        font-size: 12pt !important;
        color: black !important;
        font-weight: bold !important;
        margin: 0 4px !important;
        user-select: none !important;
        flex-shrink: 0 !important;
    }
    
    .flowchart .arrow-down {
        font-size: 10pt !important;
        color: black !important;
        margin: 2px 0 !important;
        user-select: none !important;
    }
    
    /* 三层流程图 - 保持层次结构 */
    .three-layer-flowchart {
        display: block !important;
        margin: 0.5em 0 !important;
        padding: 0.3em !important;
        border: 1px solid #ccc !important;
        page-break-inside: avoid !important;
    }
    
    .three-layer-flowchart .layer {
        display: block !important;
        margin: 0.3em 0 !important;
        padding: 0 !important;
    }
    
    .three-layer-flowchart .layer-title {
        background: #e0e0e0 !important;
        color: black !important;
        padding: 4px 8px !important;
        border: 1px solid #ccc !important;
        font-weight: bold !important;
        font-size: 11pt !important;
        margin-bottom: 0.2em !important;
        text-align: center !important;
    }
    
    .three-layer-flowchart .layer-content {
        display: flex !important;
        flex-direction: row !important;
        align-items: center !important;
        justify-content: center !important;
        flex-wrap: wrap !important;
        gap: 8px !important;
        margin-bottom: 0.2em !important;
    }
    
    .three-layer-flowchart .layer-step {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        min-width: 120px !important;
        flex-shrink: 0 !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .three-layer-flowchart .step-main {
        background: #f5f5f5 !important;
        color: black !important;
        padding: 4px 8px !important;
        border: 1px solid #ccc !important;
        font-weight: bold !important;
        font-size: 10pt !important;
        text-align: center !important;
        white-space: nowrap !important;
    }
    
    .three-layer-flowchart .step-sub {
        margin-top: 2px !important;
        background: white !important;
        color: black !important;
        padding: 2px 6px !important;
        border: 1px solid #ddd !important;
        font-size: 9pt !important;
        text-align: center !important;
        white-space: nowrap !important;
    }
    
    .three-layer-flowchart .horizontal-arrow {
        font-size: 12pt !important;
        color: black !important;
        margin: 0 2px !important;
    }
    
    .three-layer-flowchart .vertical-arrow {
        font-size: 10pt !important;
        color: black !important;
        margin: 2px 0 !important;
    }
    
    /* 闭合循环图 - 保持布局结构 */
    .closed-loop-chart {
        display: block !important;
        margin: 0.5em 0 !important;
        padding: 0.3em !important;
        border: 1px solid #ccc !important;
        page-break-inside: avoid !important;
    }
    
    .closed-loop-grid {
        display: grid !important;
        grid-template-columns: 1fr 1fr !important;
        gap: 0.5em !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .closed-loop-chart .loop-title {
        background: #e0e0e0 !important;
        color: black !important;
        padding: 4px 8px !important;
        border: 1px solid #ccc !important;
        font-weight: bold !important;
        font-size: 11pt !important;
        text-align: center !important;
        margin-bottom: 0.3em !important;
    }
    
    .closed-loop-chart .loop-container {
        position: relative !important;
        width: 100% !important;
        height: 200px !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .closed-loop-chart .loop-node {
        position: absolute !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .closed-loop-chart .node-main {
        background: #f5f5f5 !important;
        color: black !important;
        padding: 4px 8px !important;
        border: 1px solid #ccc !important;
        font-weight: bold !important;
        font-size: 9pt !important;
        text-align: center !important;
        white-space: nowrap !important;
        margin: 0 !important;
    }
    
    .closed-loop-chart .node-sub {
        background: white !important;
        color: black !important;
        padding: 2px 6px !important;
        border: 1px solid #ddd !important;
        font-size: 8pt !important;
        text-align: center !important;
        white-space: nowrap !important;
        margin-top: 2px !important;
    }
    
    /* SVG箭头 - 保持可见性 */
    .closed-loop-chart .arrow-svg {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        pointer-events: none !important;
    }
    
    .closed-loop-chart .arrow-path {
        stroke: black !important;
        stroke-width: 1 !important;
        fill: none !important;
        stroke-dasharray: 5,5 !important;
    }
    
    .closed-loop-chart .arrow-head {
        fill: black !important;
    }
    
    /* 框架流程图 */
    .framework-flow {
        display: flex !important;
        flex-direction: row !important;
        align-items: center !important;
        justify-content: center !important;
        flex-wrap: wrap !important;
        gap: 8px !important;
        margin: 0.5em 0 !important;
        padding: 0.3em 0 !important;
        page-break-inside: avoid !important;
    }
    
    .flow-step {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        min-width: 120px !important;
        flex-shrink: 0 !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .flow-step h4 {
        background: #f0f0f0 !important;
        color: black !important;
        padding: 4px 8px !important;
        border: 1px solid #ccc !important;
        font-weight: bold !important;
        font-size: 10pt !important;
        text-align: center !important;
        margin: 0 !important;
    }
    
    .flow-step p {
        background: white !important;
        color: black !important;
        padding: 2px 6px !important;
        border: 1px solid #ddd !important;
        font-size: 9pt !important;
        text-align: center !important;
        margin-top: 2px !important;
    }
    
    .flow-arrow {
        font-size: 12pt !important;
        color: black !important;
        font-weight: bold !important;
        margin: 0 4px !important;
        user-select: none !important;
        flex-shrink: 0 !important;
    }
    
    /* 响应式处理 - 打印时保持布局 */
    @media print and (max-width: 768px) {
        .flowchart {
            flex-direction: column !important;
            gap: 4px !important;
        }
        
        .flowchart .arrow-right {
            transform: rotate(90deg) !important;
            margin: 2px 0 !important;
        }
        
        .three-layer-flowchart .layer-content {
            flex-direction: column !important;
            gap: 4px !important;
        }
        
        .three-layer-flowchart .horizontal-arrow {
            transform: rotate(90deg) !important;
            margin: 2px 0 !important;
        }
        
        .framework-flow {
            flex-direction: column !important;
            gap: 4px !important;
        }
        
        .flow-arrow {
            transform: rotate(90deg) !important;
            margin: 2px 0 !important;
        }
        
        .closed-loop-grid {
            grid-template-columns: 1fr !important;
            gap: 0.3em !important;
        }
    }
    
    /* 性能优化 - 禁用不必要的渲染 */
    * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        filter: none !important;
        transform: none !important;
        transition: none !important;
        animation: none !important;
    }
    
    /* 确保所有内容可见但简化 */
    .hidden, .d-none, .invisible {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
} 
 
 

 
 
 
 